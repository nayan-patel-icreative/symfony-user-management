<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>{% block title %}Symfony App{% endblock %}</title>
    <link rel="shortcut icon" href="{{ absolute_url('favicon.svg') }}">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/sweetalert2@11/dist/sweetalert2.min.css" rel="stylesheet">
</head>

<body class="bg-light">

<nav class="navbar navbar-expand-lg navbar-dark bg-dark">
    <div class="container">
        <a class="navbar-brand" href="/">SymfonyApp</a>
        <div class="navbar-nav">
            <a class="nav-link" href="/user">Users</a>
        </div>
    </div>
</nav>

<div class="container mt-4">
    {% block body %}{% endblock %}
</div>

{% for type, messages in app.flashes %}
    {% for message in messages %}
        <script>
            document.addEventListener('DOMContentLoaded', function() {
                {% if type == 'success' %}
                    Swal.fire({
                        icon: 'success',
                        title: 'Success!',
                        text: '{{ message|raw }}',
                        timer: 3000,
                        timerProgressBar: true,
                        showConfirmButton: false,
                        position: 'top-end',
                        toast: true
                    });
                {% elseif type == 'error' %}
                    Swal.fire({
                        icon: 'error',
                        title: 'Error!',
                        text: '{{ message|raw }}',
                        timer: 5000,
                        timerProgressBar: true,
                        showConfirmButton: false,
                        position: 'top-end',
                        toast: true
                    });
                {% elseif type == 'warning' %}
                    Swal.fire({
                        icon: 'warning',
                        title: 'Warning!',
                        text: '{{ message|raw }}',
                        timer: 4000,
                        timerProgressBar: true,
                        showConfirmButton: false,
                        position: 'top-end',
                        toast: true
                    });
                {% elseif type == 'info' %}
                    Swal.fire({
                        icon: 'info',
                        title: 'Info!',
                        text: '{{ message|raw }}',
                        timer: 3000,
                        timerProgressBar: true,
                        showConfirmButton: false,
                        position: 'top-end',
                        toast: true
                    });
                {% endif %}
            });
        </script>
    {% endfor %}
{% endfor %}

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
</body>
</html>
